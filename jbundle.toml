java_version = 25
target = "linux-x64"
jvm_args = [
        "--add-modules", "jdk.incubator.vector",
        "--enable-native-access=ai.djl.tokenizers,ai.djl.pytorch_engine,com.sun.jna,javafx.graphics,javafx.media,javafx.web,org.apache.lucene.core,jkeychain",
        "--add-opens", "java.base/java.nio=org.apache.pdfbox.io",
        // https://github.com/uncomplicate/neanderthal/issues/55
        "--add-opens", "java.base/jdk.internal.ref=org.apache.pdfbox.io",
        // Enable JEP 450: Compact Object Headers
        "-XX:+UnlockExperimentalVMOptions", "-XX:+UseCompactObjectHeaders",
        "-XX:+UseStringDeduplication"
    ]

# profile = "cli"

# appcds = true

# see https://jbundle.avelino.run/user-guide/configuration#maximum-performance-linux
# set to "false" for speedup during build
crac = false

# set to "false" for speedup during build
shrink = false
